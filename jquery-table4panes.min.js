(function(n){var e=function(n){var i=new Array(this.children.length),t,f,r,e,o,u;if(Array.prototype.fill)i.fill(n);else for(t=0;t<this.children.length;t++)i[t]=n;for(t=0;t<this.children.length;t++)for(f=this.children[t],r=0;r<i[t]&&r<f.children.length;r++)for(e=f.children[r],o=e.colSpan-1,u=1;u<e.rowSpan&&t+u<i.length;u++)i[t+u]-=1+o;return i},r=function(n,t){var h=this,o=h.cloneNode(!1),s,f,u,i,c;if(o.removeAttribute("id"),t<=0)return o;for(s=null,f=0;f<h.children.length;f++)if(u=h.children[f],i=u.nodeName.toLowerCase(),i=="thead"||i=="tbody"||i=="tr"&&n=="col"){if(i=="tr"&&n=="col"&&(s==null&&(s=e.call(this,t)),t=s[f]),c=o.appendChild(r.call(u,n,t)),n=="row"&&(t-=c.children.length,t<=0))break;i!="tr"&&u.children.length<=0&&(u.parentNode.removeChild(u),f--)}else if((i=="tr"||i=="th"||i=="td")&&(o.appendChild(u),f--,t-=u.colSpan||1,t<=0))break;return o},l=function(t){var i=[];return n(this).find("tr:eq("+t+")").children().each(function(t,r){i.push(n(r).width())}),i},o=function(){var t=[];return n(this).find("tr").each(function(i,r){t.push(Math.ceil(n(r).height()))}),t},u=function(i,r){return n(this).find("tr:eq("+r+")").children().each(function(r,u){t.call(n(u),i[r])}),n(this)},s=function(i){return n(this).find("tr").slice(i[0],i[1]+1).each(function(i,r){n(r).children().each(function(i,r){t.call(n(r),Math.ceil(n(r).width()))})}),n(this)},f=function(t){return n(this).find("tr").each(function(r,u){i.call(n(u),t[r])}),n(this)},t=function(t){return n(this).width(t),n(this).css({"min-width":t,"max-width":t}),n(this)},i=function(t){return n(this).height(t),n(this).css({"min-height":t,"max-height":t}),n(this)},h=function(t){var i={},r=n("<tr>"),u;return n(this).find("tr:first").children().each(function(n,t){for(var i=0;i<t.colSpan;i++)r.append("<td>")}),n(this).find("tr:last").after(r),u=[],r.children().each(function(t,i){u.push(n(i).width())}),i.left_widths=u.slice(0,t),i.right_widths=u.slice(t),i.$right_tr=r.remove(),i.$left_tr=n("<tr>").append(r.find("td:lt("+t+")")),i},c=function(e,c,l,a){var p="table4panes",et,v,y,ut,ft,ht,ct;a&&a.prefix&&(p=a.prefix);et=[0,l];a&&a["fix-width-rows"]&&(et=a["fix-width-rows"]);v=n(this).attr("id");v||(v=p+e,n(this).attr("id",v));var ot=v+"-table4panes",lt=v+"-left",at=v+"-right",vt=v+"-top-left",yt=v+"-bottom-left",pt=v+"-top-right",wt=v+"-bottom-right";if(!(n("#"+ot).length>0)){n(this).css({"table-layout":"fixed"});n(this).addClass("pane");y=null;et=="dummy"?y=h.call(n(this),c):s.call(n(this),et);var st=o.call(n(this)),b=n(this).wrap("<div id='"+ot+"'>").parent(),k=n(this),g=n(r.call(k[0],"col",c)),rt=k.wrap("<div id='"+at+"'>").parent(),it=g.wrap("<div id='"+lt+"'>").parent();f.call(k,st);f.call(g,st);ut=n(r.call(k[0],"row",l));ft=n(r.call(g[0],"row",l));k.before(ut);g.before(ft);rt.before(it);y&&(ft.find("tr:first").before(y.$left_tr),u.call(ft,y.left_widths,0),g.find("tr:first").before(y.$left_tr.clone()),u.call(g,y.left_widths,0),ut.find("tr:first").before(y.$right_tr),u.call(ut,y.right_widths,0),k.find("tr:first").before(y.$right_tr.clone()),u.call(k,y.right_widths,0));var nt=k.wrap("<div id='"+wt+"'>").parent(),w=g.wrap("<div id='"+yt+"'>").parent(),d=ut.wrap("<div id='"+pt+"'>").parent(),tt=ft.wrap("<div id='"+vt+"'>").parent();b.addClass(p);rt.addClass(p+"-right");it.addClass(p+"-left");tt.addClass(p+"-top");d.addClass(p+"-top");w.addClass(p+"-bottom");nt.addClass(p+"-bottom");nt.css({"overflow-x":"scroll","overflow-y":"scroll"});d.css({"overflow-x":"hidden","overflow-y":"scroll"});w.css({"overflow-x":"scroll","overflow-y":"hidden"});tt.css({"overflow-x":"hidden","overflow-y":"hidden"});switch(a["display-method"]){case"inline-block":it.css({display:"inline-block"});rt.css({display:"inline-block"});break;case"table-cell":b.css({display:"table","table-layout":"fixed",margin:"0 auto"});it.css({display:"table-cell"});rt.css({display:"table-cell"});break;case"flex":b.css({display:"flex"});break;case"float":default:it.css({float:"left"})}return n.each(a,function(n){switch(n){case"height":i.call(b,a[n]);break;case"top-height":i.call(tt,a[n]);i.call(d,a[n]);break;case"bottom-height":i.call(w,a[n]);i.call(nt,a[n]);break;case"width":t.call(b,a[n]);break;case"left-width":t.call(tt,a[n]);t.call(w,a[n]);break;case"right-width":t.call(d,a[n]);t.call(nt,a[n])}}),a.fit&&(ht=rt.outerWidth(!0)-d.width(),ct=w.outerHeight(!0)-w.height(),n(window).resize(function(){var n=b.width()-it.outerWidth(!0)-ht,r=b.height()-tt.outerHeight(!0)-ct;t.call(d,n);t.call(nt,n);i.call(w,r);i.call(nt,r)}),n(window).trigger("resize")),a.css&&n.each(a.css,function(t,i){n(t).css(i)}),a.callbacks&&n.each(a.callbacks,function(t,i){n.isArray(i)||(i=[i]);n.each(i,function(i,r){n(t).on(r.event,r.data,r.func)})}),d.scroll(function(){tt.scrollTop(n(this).scrollTop())}),w.scroll(function(){tt.scrollLeft(n(this).scrollLeft())}),nt.scroll(function(){w.scrollTop(n(this).scrollTop());d.scrollLeft(n(this).scrollLeft())}),b}};n.fn.table4panes=function(t,i,r){var u=[];return n.each(n(this),function(f,e){u.push(c.call(n(e),f,t,i,r))}),u.length==1?to_nodes[0]:u}})(jQuery)