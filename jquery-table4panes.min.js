(function(n){var f=function(n){for(var f,i,e,o,r,u=new Array(this.children.length).fill(n),t=0;t<this.children.length;t++)for(f=this.children[t],i=0;i<u[t]&&i<f.children.length;i++)for(e=f.children[i],o=e.colSpan-1,r=1;r<e.rowSpan&&t+r<u.length;r++)u[t+r]-=1+o;return u},r=function(n,t){var h=this,o=h.cloneNode(!1),s,u,e,i;for(o.removeAttribute("id"),s=null,u=0;u<h.children.length&&t>0;u++)e=h.children[u],i=e.nodeName.toLowerCase(),i=="thead"||i=="tbody"||i=="tr"&&n=="col"?(i=="tr"&&n=="col"&&(s==null&&(s=f.call(this,t)),t=s[u]),o.appendChild(r.call(e,n,t)),n=="row"&&(t-=o.children.length),e.children.length<=0&&(e.remove(),u--)):(i=="tr"||i=="th"||i=="td")&&(o.appendChild(e),u--,t-=e.colSpan||1);return o},e=function(){var t=[];return n(this).find("tr").each(function(i,r){t.push(n(r).height())}),t},o=function(i){return n(this).find("tr:lt("+i+")").each(function(i,r){n(r).children().each(function(i,r){t.call(n(r),n(r).width())})}),n(this)},u=function(t){return n(this).find("tr").each(function(r,u){i.call(n(u),t[r])}),n(this)},t=function(t){return n(this).width(t),n(this).css({"min-width":t,"max-width":t}),n(this)},i=function(t){return n(this).height(t),n(this).css({"min-height":t,"max-height":t}),n(this)};n.fn.table4panes=function(f,s,h){var l="table4panes",nt,tt,rt,ut;h&&h.prefix&&(l=h.prefix);fix_width_rows=s+1;h&&h["fix-width-rows"]&&(fix_width_rows=h["fix-width-rows"]);var y=n(this).attr("id"),ft=y+"-table4panes",et=y+"-left",ot=y+"-right",st=y+"-top-left",ht=y+"-bottom-left",ct=y+"-top-right",lt=y+"-bottom-right";n(this).css({"table-layout":"fixed"});n(this).addClass("pane");o.call(n(this),fix_width_rows);var it=e.call(n(this)),a=n(this).wrap("<div id='"+ft+"'>").parent(),b=n(this),d=n(r.call(b[0],"col",f)),g=b.wrap("<div id='"+ot+"'>").parent(),k=d.wrap("<div id='"+et+"'>").parent();u.call(b,it);u.call(d,it);nt=n(r.call(b[0],"row",s));tt=n(r.call(d[0],"row",s));b.before(nt);d.before(tt);g.before(k);var p=b.wrap("<div id='"+lt+"'>").parent(),c=d.wrap("<div id='"+ht+"'>").parent(),v=nt.wrap("<div id='"+ct+"'>").parent(),w=tt.wrap("<div id='"+st+"'>").parent();a.addClass(l);g.addClass(l+"-right");k.addClass(l+"-left");w.addClass(l+"-top");v.addClass(l+"-top");c.addClass(l+"-bottom");p.addClass(l+"-bottom");p.css({"overflow-x":"scroll","overflow-y":"scroll"});v.css({"overflow-x":"hidden","overflow-y":"scroll"});c.css({"overflow-x":"scroll","overflow-y":"hidden"});w.css({"overflow-x":"hidden","overflow-y":"hidden"});switch(h["display-method"]){case"inline-block":k.css({display:"inline-block"});g.css({display:"inline-block"});break;case"table-cell":a.css({display:"table","table-layout":"fixed",margin:"0 auto"});k.css({display:"table-cell"});g.css({display:"table-cell"});break;case"flex":a.css({display:"flex"});break;case"float":default:k.css({float:"left"})}return n.each(h,function(n){switch(n){case"height":i.call(a,h[n]);break;case"top-height":i.call(w,h[n]);i.call(v,h[n]);break;case"bottom-height":i.call(c,h[n]);i.call(p,h[n]);break;case"width":t.call(a,h[n]);break;case"left-width":t.call(w,h[n]);t.call(c,h[n]);break;case"right-width":t.call(v,h[n]);t.call(p,h[n])}}),h.fit&&(rt=g.outerWidth(!0)-v.width(),ut=c.outerHeight(!0)-c.height(),n(window).resize(function(){var n=a.width()-k.outerWidth(!0)-rt,r=a.height()-w.outerHeight(!0)-ut;t.call(v,n);t.call(p,n);i.call(c,r);i.call(p,r)}),n(window).trigger("resize")),h.css&&n.each(h.css,function(t,i){n(t).css(i)}),h.callbacks&&n.each(h.callbacks,function(t,i){n(t).on(i.event,i.data,i.func)}),v.scroll(function(){w.scrollTop(n(this).scrollTop())}),c.scroll(function(){w.scrollLeft(n(this).scrollLeft())}),p.scroll(function(){c.scrollTop(n(this).scrollTop());v.scrollLeft(n(this).scrollLeft())}),a}})(jQuery)