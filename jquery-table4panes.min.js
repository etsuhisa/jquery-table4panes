(function(n){var r=function(n,t){var o=this,e=o.cloneNode(!1),u,f,i;for(e.removeAttribute("id"),u=0;u<o.children.length&&t>0;u++)f=o.children[u],i=f.nodeName.toLowerCase(),i=="thead"||i=="tbody"||i=="tr"&&n=="col"?(e.appendChild(r.call(f,n,t)),(i=="thead"||i=="tbody")&&n=="row"&&(t-=e.children.length),f.children.length<=0&&(f.remove(),u--)):(i=="tr"||i=="th"||i=="td")&&(e.appendChild(f),u--,t--);return e},e=function(){var t=[];return n(this).find("tr:eq(0)").children().each(function(i,r){t.push(n(r).width())}),t},o=function(){var t=[];return n(this).find("tr").each(function(i,r){t.push(n(r).height())}),t},u=function(i){return n(this).find("tr:eq(0)").children().each(function(r,u){t.call(n(u),i[r])}),n(this)},f=function(t){return n(this).find("tr").each(function(r,u){i.call(n(u),t[r])}),n(this)},t=function(t){return n(this).width(t),n(this).css({"min-width":t,"max-width":t}),n(this)},i=function(t){return n(this).height(t),n(this).css({"min-height":t,"max-height":t}),n(this)};n.fn.table4panes=function(s,h,c){var a="table4panes",it,rt,ft,et;c&&c.prefix&&(a=c.prefix);var p=n(this).attr("id"),ot=p+"-table4panes",st=p+"-left",ht=p+"-right",ct=p+"-top-left",lt=p+"-bottom-left",at=p+"-top-right",vt=p+"-bottom-right";n(this).css({"table-layout":"fixed"});n(this).addClass("pane");var tt=e.call(n(this)),ut=o.call(n(this)),v=n(this).wrap("<div id='"+ot+"'>").parent(),w=n(this),d=n(r.call(w[0],"col",s)),nt=w.wrap("<div id='"+ht+"'>").parent(),g=d.wrap("<div id='"+st+"'>").parent();f.call(w,ut);f.call(d,ut);it=n(r.call(w[0],"row",h));rt=n(r.call(d[0],"row",h));u.call(w,tt.slice(s));u.call(d,tt.slice(0,s));u.call(it,tt.slice(s));u.call(rt,tt.slice(0,s));w.before(it);d.before(rt);nt.before(g);var b=w.wrap("<div id='"+vt+"'>").parent(),l=d.wrap("<div id='"+lt+"'>").parent(),y=it.wrap("<div id='"+at+"'>").parent(),k=rt.wrap("<div id='"+ct+"'>").parent();v.addClass(a);nt.addClass(a+"-right");g.addClass(a+"-left");k.addClass(a+"-top");y.addClass(a+"-top");l.addClass(a+"-bottom");b.addClass(a+"-bottom");b.css({"overflow-x":"scroll","overflow-y":"scroll"});y.css({"overflow-x":"hidden","overflow-y":"scroll"});l.css({"overflow-x":"scroll","overflow-y":"hidden"});k.css({"overflow-x":"hidden","overflow-y":"hidden"});switch(c["display-method"]){case"inline-block":g.css({display:"inline-block"});nt.css({display:"inline-block"});break;case"table-cell":v.css({display:"table","table-layout":"fixed",margin:"0 auto"});g.css({display:"table-cell"});nt.css({display:"table-cell"});break;case"flex":v.css({display:"flex"});break;case"float":default:g.css({float:"left"})}return n.each(c,function(n){switch(n){case"height":i.call(v,c[n]);break;case"top-height":i.call(k,c[n]);i.call(y,c[n]);break;case"bottom-height":i.call(l,c[n]);i.call(b,c[n]);break;case"width":t.call(v,c[n]);break;case"left-width":t.call(k,c[n]);t.call(l,c[n]);break;case"right-width":t.call(y,c[n]);t.call(b,c[n])}}),c.fit&&(ft=nt.outerWidth(!0)-y.width(),et=l.outerHeight(!0)-l.height(),n(window).resize(function(){var n=v.width()-g.outerWidth(!0)-ft,r=v.height()-k.outerHeight(!0)-et;t.call(y,n);t.call(b,n);i.call(l,r);i.call(b,r)}),n(window).trigger("resize")),c.css&&n.each(c.css,function(t,i){n(t).css(i)}),c.callbacks&&n.each(c.callbacks,function(t,i){n(t).on(i.event,i.data,i.func)}),y.scroll(function(){k.scrollTop(n(this).scrollTop())}),l.scroll(function(){k.scrollLeft(n(this).scrollLeft())}),b.scroll(function(){l.scrollTop(n(this).scrollTop());y.scrollLeft(n(this).scrollLeft())}),v}})(jQuery)