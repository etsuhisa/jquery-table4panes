(function(n){var f=function(n){var i=new Array(this.children.length),t,f,r,e,o,u;if(Array.prototype.fill)i.fill(n);else for(t=0;t<this.children.length;t++)i[t]=n;for(t=0;t<this.children.length;t++)for(f=this.children[t],r=0;r<i[t]&&r<f.children.length;r++)for(e=f.children[r],o=e.colSpan-1,u=1;u<e.rowSpan&&t+u<i.length;u++)i[t+u]-=1+o;return i},r=function(n,t){var h=this,o=h.cloneNode(!1),s,e,i,u,c;for(o.removeAttribute("id"),s=null,e=0;e<h.children.length&&t>0;e++)i=h.children[e],u=i.nodeName.toLowerCase(),u=="thead"||u=="tbody"||u=="tr"&&n=="col"?(u=="tr"&&n=="col"&&(s==null&&(s=f.call(this,t)),t=s[e]),c=o.appendChild(r.call(i,n,t)),n=="row"&&(t-=c.children.length),i.children.length<=0&&(i.parentNode.removeChild(i),e--)):(u=="tr"||u=="th"||u=="td")&&(o.appendChild(i),e--,t-=i.colSpan||1);return o},e=function(){var t=[];return n(this).find("tr").each(function(i,r){t.push(Math.ceil(n(r).height()))}),t},o=function(i){var u=0,r=0;return typeof i=="number"?r=i:(u=i[0],r=i[1]),n(this).find("tr").slice(u,r+1).each(function(i,r){n(r).children().each(function(i,r){t.call(n(r),Math.ceil(n(r).width()))})}),n(this)},u=function(t){return n(this).find("tr").each(function(r,u){i.call(n(u),t[r])}),n(this)},t=function(t){return n(this).width(t),n(this).css({"min-width":t,"max-width":t}),n(this)},i=function(t){return n(this).height(t),n(this).css({"min-height":t,"max-height":t}),n(this)};n.fn.table4panes=function(f,s,h){var l="table4panes",nt,tt,it,ut,ft;h&&h.prefix&&(l=h.prefix);nt=s;h&&h["fix-width-rows"]&&(nt=h["fix-width-rows"]);var y=n(this).attr("id"),et=y+"-table4panes",ot=y+"-left",st=y+"-right",ht=y+"-top-left",ct=y+"-bottom-left",lt=y+"-top-right",at=y+"-bottom-right";n(this).css({"table-layout":"fixed"});n(this).addClass("pane");o.call(n(this),nt);var rt=e.call(n(this)),a=n(this).wrap("<div id='"+et+"'>").parent(),b=n(this),d=n(r.call(b[0],"col",f)),g=b.wrap("<div id='"+st+"'>").parent(),k=d.wrap("<div id='"+ot+"'>").parent();u.call(b,rt);u.call(d,rt);tt=n(r.call(b[0],"row",s));it=n(r.call(d[0],"row",s));b.before(tt);d.before(it);g.before(k);var p=b.wrap("<div id='"+at+"'>").parent(),c=d.wrap("<div id='"+ct+"'>").parent(),v=tt.wrap("<div id='"+lt+"'>").parent(),w=it.wrap("<div id='"+ht+"'>").parent();a.addClass(l);g.addClass(l+"-right");k.addClass(l+"-left");w.addClass(l+"-top");v.addClass(l+"-top");c.addClass(l+"-bottom");p.addClass(l+"-bottom");p.css({"overflow-x":"scroll","overflow-y":"scroll"});v.css({"overflow-x":"hidden","overflow-y":"scroll"});c.css({"overflow-x":"scroll","overflow-y":"hidden"});w.css({"overflow-x":"hidden","overflow-y":"hidden"});switch(h["display-method"]){case"inline-block":k.css({display:"inline-block"});g.css({display:"inline-block"});break;case"table-cell":a.css({display:"table","table-layout":"fixed",margin:"0 auto"});k.css({display:"table-cell"});g.css({display:"table-cell"});break;case"flex":a.css({display:"flex"});break;case"float":default:k.css({float:"left"})}return n.each(h,function(n){switch(n){case"height":i.call(a,h[n]);break;case"top-height":i.call(w,h[n]);i.call(v,h[n]);break;case"bottom-height":i.call(c,h[n]);i.call(p,h[n]);break;case"width":t.call(a,h[n]);break;case"left-width":t.call(w,h[n]);t.call(c,h[n]);break;case"right-width":t.call(v,h[n]);t.call(p,h[n])}}),h.fit&&(ut=g.outerWidth(!0)-v.width(),ft=c.outerHeight(!0)-c.height(),n(window).resize(function(){var n=a.width()-k.outerWidth(!0)-ut,r=a.height()-w.outerHeight(!0)-ft;t.call(v,n);t.call(p,n);i.call(c,r);i.call(p,r)}),n(window).trigger("resize")),h.css&&n.each(h.css,function(t,i){n(t).css(i)}),h.callbacks&&n.each(h.callbacks,function(t,i){n(t).on(i.event,i.data,i.func)}),v.scroll(function(){w.scrollTop(n(this).scrollTop())}),c.scroll(function(){w.scrollLeft(n(this).scrollLeft())}),p.scroll(function(){c.scrollTop(n(this).scrollTop());v.scrollLeft(n(this).scrollLeft())}),a}})(jQuery)